import{j as e,C as q,d as K,e as F}from"./index-UoUPk7yu.js";import{i as X,u as G,j as Q,r as u}from"./react-vendor-Dn3TfeyG.js";import{p as J,q as V,j as y,B as E,k as Z,r as T,s as ee,m as se,b as te,h as re,t as ae,u as ne,l as le,v as ie}from"./icons-B-AdWDVm.js";import{R as I,P as ce,a as oe,C as de,T as P,B as me,b as xe,X as he,Y as ue,c as ge}from"./charts-DCrIq4dL.js";import"./supabase-CDMW_bd0.js";const g=({title:n,rating:l,reviewCount:o,maxRating:s=5})=>{const i=typeof l=="number"&&!isNaN(l)?l:0,m=i/s*100,r=c=>c>=3.5?"bg-green-500":c>=2.5?"bg-yellow-500":"bg-red-500",d=c=>c>=3.5?"bg-green-100":c>=2.5?"bg-yellow-100":"bg-red-100";return e.jsx("div",{className:"flex items-center justify-between py-3",children:e.jsxs("div",{className:"flex-1 mr-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:n}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:i.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",o,")"]})]})]}),e.jsx("div",{className:`w-full h-2 ${d(i)} rounded-full overflow-hidden`,children:e.jsx("div",{className:`h-full ${r(i)} rounded-full transition-all duration-500 ease-out`,style:{width:`${m}%`}})})]})})},pe=({rating:n,recommendation:l,excerpt:o,role:s,period:i,pros:m=[],cons:r=[],helpfulCount:d=0})=>{const c=()=>{switch(l){case"highly-recommend":return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"âœ… Highly Recommend"});case"maybe":return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"ðŸ¤” Maybe"});case"not-recommended":return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"âŒ Not Recommended"})}},N=p=>Array.from({length:5},(x,f)=>e.jsx(y,{className:`w-4 h-4 ${f<p?"text-yellow-400 fill-current":"text-gray-300"}`},f));return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center space-x-1",children:N(n)}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[n,".0"]})]}),c()]}),e.jsxs("p",{className:"text-gray-700 mb-4 leading-relaxed",children:['"',o,'"']}),(m.length>0||r.length>0)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx(J,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Pros"})]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:m.map((p,x)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-1",children:"â€¢"}),p]},x))})]}),r.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[e.jsx(V,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm font-medium text-red-700",children:"Cons"})]}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:r.map((p,x)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-1",children:"â€¢"}),p]},x))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:s})," â€¢ ",i]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[d," found this helpful"]})]})]})},v=({title:n,value:l,subtitle:o,icon:s,trend:i,trendValue:m,color:r="blue"})=>{const d=()=>{switch(r){case"green":return"bg-green-50 text-green-600 border-green-200";case"yellow":return"bg-yellow-50 text-yellow-600 border-yellow-200";case"red":return"bg-red-50 text-red-600 border-red-200";case"gray":return"bg-gray-50 text-gray-600 border-gray-200";default:return"bg-blue-50 text-blue-600 border-blue-200"}},c=()=>i==="up"?"â†—ï¸":i==="down"?"â†˜ï¸":"â†’";return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${d()}`,children:e.jsx(s,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:n})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l}),o&&e.jsx("p",{className:"text-sm text-gray-500",children:o})]})]}),i&&m&&e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-lg",children:c()}),e.jsx("span",{className:`text-sm font-medium ${i==="up"?"text-green-600":i==="down"?"text-red-600":"text-gray-600"}`,children:m})]})})]})})},je=({currentCompany:n,competitors:l,industryAverage:o})=>{const s=[n,...l],i=r=>Array.from({length:5},(d,c)=>e.jsx(y,{className:`w-3 h-3 ${c<Math.floor(r)?"text-yellow-400 fill-current":"text-gray-300"}`},c)),m=r=>{const d=["bg-blue-600","bg-green-600","bg-purple-600","bg-red-600"],c=r.length%d.length;return e.jsx("div",{className:`w-8 h-8 ${d[c]} rounded-lg flex items-center justify-center text-white font-bold text-sm`,children:r.charAt(0)})};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Industry Comparison"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"See how this company compares to similar organizations"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overall Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviews"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recommend Rate"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[s.map((r,d)=>e.jsxs("tr",{className:d===0?"bg-blue-50":"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[m(r.name),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),d===0&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Current"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:r.industry})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:i(r.rating)}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r.rating.toFixed(1)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.reviewCount.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${r.recommendationRate}%`}})}),e.jsxs("span",{className:"text-sm text-gray-900",children:[r.recommendationRate,"%"]})]})})]},r.id)),e.jsxs("tr",{className:"bg-yellow-50 border-t-2 border-yellow-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:"ðŸ“Š"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Industry Average"}),e.jsx("div",{className:"text-sm text-gray-500",children:n.industry})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:i(o.rating)}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.rating.toFixed(1)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${o.recommendationRate}%`}})}),e.jsxs("span",{className:"text-sm text-gray-900",children:[o.recommendationRate,"%"]})]})})]})]})]})})]})},fe=({filters:n,onFilterChange:l,reviewCount:o})=>e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n.rating,onChange:s=>l("rating",s.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"5",children:"5 Stars"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"2",children:"2+ Stars"}),e.jsx("option",{value:"1",children:"1+ Stars"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n.timePeriod,onChange:s=>l("timePeriod",s.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"}),e.jsx("option",{value:"2years",children:"Last 2 Years"})]})]}),e.jsxs("select",{value:n.recommendation,onChange:s=>l("recommendation",s.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Recommendations"}),e.jsx("option",{value:"highly-recommend",children:"Highly Recommend"}),e.jsx("option",{value:"maybe",children:"Maybe"}),e.jsx("option",{value:"not-recommended",children:"Not Recommended"})]})]}),e.jsxs("div",{className:"flex items-center justify-between lg:justify-end space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[o," reviews"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"w-4 h-4 text-gray-400"}),e.jsxs("select",{value:n.sortBy,onChange:s=>l("sortBy",s.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"rating-high",children:"Highest Rated"}),e.jsx("option",{value:"rating-low",children:"Lowest Rated"}),e.jsx("option",{value:"helpful",children:"Most Helpful"})]})]})]})]})}),Ce=()=>{var R,M,_,k,B,S,L,A,$;const{companyId:n}=X(),l=G(),o=Q(),[s,i]=u.useState(null),[m,r]=u.useState(!0),[d,c]=u.useState(null),[N,p]=u.useState(!1),[x,f]=u.useState([]),[D,b]=u.useState(!1),[j,C]=u.useState({rating:"",timePeriod:"",recommendation:"",sortBy:"recent"});u.useEffect(()=>{const t=o.state;t!=null&&t.reviewSubmitted&&(b(!0),window.history.replaceState({},document.title),setTimeout(()=>b(!1),8e3))},[o]),u.useEffect(()=>{(async()=>{r(!0);try{if(!n){c("Company not found");return}const a=await K(n);i(a);const h=await F(n,{limit:10});f(h)}catch(a){console.error("Error fetching company:",a),c("Company not found")}finally{r(!1)}})()},[n]),u.useEffect(()=>{if(!s)return;(async()=>{try{const a={};j.rating&&(a.rating=parseInt(j.rating)),j.recommendation&&(a.recommendation=j.recommendation),a.sortBy=j.sortBy,a.limit=20;const h=await F(s.id,a);f(h)}catch(a){console.error("Error fetching filtered reviews:",a)}})()},[j,s]);const H=(t,a)=>{C(h=>({...h,[t]:a}))};if(m)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-8"}),e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm mb-8",children:[e.jsx("div",{className:"h-12 bg-gray-300 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"})]},t))})]})})});if(d||!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:d||"Company not found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The company you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>l("/"),className:"bg-gradient-to-r from-blue-600 to-green-500 text-white px-6 py-2 rounded-lg font-medium hover:shadow-lg transition-all duration-300",children:"Back to Home"})]})})});const O=t=>Array.from({length:5},(a,h)=>e.jsx(y,{className:`w-5 h-5 ${h<Math.floor(t)?"text-yellow-400 fill-current":"text-gray-300"}`},h)),z=t=>{const a=["bg-blue-600","bg-green-600","bg-purple-600","bg-red-600"],h=t.length%a.length;return e.jsx("div",{className:`w-16 h-16 ${a[h]} rounded-xl flex items-center justify-center text-white font-bold text-2xl`,children:t.charAt(0)})},w=[{name:"Highly Recommend",value:Math.round(s.recommendation_rate*.7),color:"#10b981"},{name:"Maybe",value:Math.round(s.recommendation_rate*.2),color:"#f59e0b"},{name:"Not Recommended",value:Math.round(100-s.recommendation_rate),color:"#ef4444"}],U=[{rating:"5â˜…",count:Math.round(s.review_count*.35)},{rating:"4â˜…",count:Math.round(s.review_count*.28)},{rating:"3â˜…",count:Math.round(s.review_count*.22)},{rating:"2â˜…",count:Math.round(s.review_count*.1)},{rating:"1â˜…",count:Math.round(s.review_count*.05)}],W=[{id:"comp1",name:"Microsoft",rating:4.2,reviewCount:856,recommendationRate:78,industry:s.industry},{id:"comp2",name:"Meta",rating:3.9,reviewCount:642,recommendationRate:71,industry:s.industry},{id:"comp3",name:"Netflix",rating:4,reviewCount:423,recommendationRate:74,industry:s.industry}],Y={rating:3.8,recommendationRate:73};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>l("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors duration-200 mb-6",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Home"})]}),D&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-green-800 font-semibold mb-1",children:"Review submitted successfully!"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Your review has been published. It may take a few moments for statistics to update."})]}),e.jsx("button",{onClick:()=>b(!1),className:"flex-shrink-0 text-green-600 hover:text-green-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-6 mb-6 lg:mb-0",children:[z(s.name),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:s.industry})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s.size})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Updated ",new Date(s.updated_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:O(s.overall_rating)}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:s.overall_rating.toFixed(1)})]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:s.review_count.toLocaleString()})," reviews"]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsxs("span",{className:"font-medium text-green-600",children:[s.recommendation_rate,"%"]})," recommend"]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-blue-600 to-green-500 text-white px-6 py-3 rounded-lg font-medium hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center space-x-2",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{children:"Write a Review"})]}),s.overall_rating>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(re,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-600",children:"Active reviews"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(v,{title:"Overall Rating",value:s.overall_rating.toFixed(1),subtitle:"out of 5.0",icon:y,color:"blue"}),e.jsx(v,{title:"Total Reviews",value:s.review_count.toLocaleString(),subtitle:"employee reviews",icon:ae,color:"green"}),e.jsx(v,{title:"Recommend Rate",value:`${s.recommendation_rate}%`,subtitle:"would recommend",icon:ne,color:s.recommendation_rate>=80?"green":s.recommendation_rate>=60?"yellow":"red"}),e.jsx(v,{title:"Company Size",value:s.size.split(" ")[0],subtitle:"employees",icon:le,color:"gray"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(ie,{className:"w-5 h-5 mr-2"}),"Rating Breakdown"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(g,{title:"Compensation & Benefits",rating:((R=s.dimensions)==null?void 0:R.compensation)??0,reviewCount:Math.round(s.review_count*.8)}),e.jsx(g,{title:"Management Quality",rating:((M=s.dimensions)==null?void 0:M.management)??0,reviewCount:Math.round(s.review_count*.7)}),e.jsx(g,{title:"Culture, Values & Inclusion",rating:((_=s.dimensions)==null?void 0:_.culture)??0,reviewCount:Math.round(s.review_count*.9)}),e.jsx(g,{title:"Career Opportunities & Development",rating:((k=s.dimensions)==null?void 0:k.career)??0,reviewCount:Math.round(s.review_count*.6)}),e.jsx(g,{title:"Recognition & Appreciation",rating:((B=s.dimensions)==null?void 0:B.recognition)??0,reviewCount:Math.round(s.review_count*.5)}),e.jsx(g,{title:"Working Environment",rating:((S=s.dimensions)==null?void 0:S.environment)??0,reviewCount:Math.round(s.review_count*.8)}),e.jsx(g,{title:"Work-Life Balance",rating:((L=s.dimensions)==null?void 0:L.worklife)??0,reviewCount:Math.round(s.review_count*.9)}),e.jsx(g,{title:"Cooperation & Relationships",rating:((A=s.dimensions)==null?void 0:A.cooperation)??0,reviewCount:Math.round(s.review_count*.7)}),e.jsx(g,{title:"Business Health & Outlook",rating:(($=s.dimensions)==null?void 0:$.business_health)??0,reviewCount:Math.round(s.review_count*.6)})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recommendation Breakdown"}),e.jsx("div",{className:"h-48",children:e.jsx(I,{width:"100%",height:"100%",children:e.jsxs(ce,{children:[e.jsx(oe,{data:w,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,dataKey:"value",children:w.map((t,a)=>e.jsx(de,{fill:t.color},`cell-${a}`))}),e.jsx(P,{formatter:t=>`${t}%`})]})})}),e.jsx("div",{className:"space-y-2 mt-4",children:w.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-700",children:t.name})]}),e.jsxs("span",{className:"font-medium",children:[t.value,"%"]})]},a))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rating Distribution"}),e.jsx("div",{className:"h-48",children:e.jsx(I,{width:"100%",height:"100%",children:e.jsxs(me,{data:U,layout:"horizontal",children:[e.jsx(xe,{strokeDasharray:"3 3"}),e.jsx(he,{type:"number"}),e.jsx(ue,{dataKey:"rating",type:"category",width:30}),e.jsx(P,{}),e.jsx(ge,{dataKey:"count",fill:"#3b82f6"})]})})})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Employee Reviews"})}),e.jsx(fe,{filters:j,onFilterChange:H,reviewCount:x.length}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:x.map(t=>e.jsx(pe,{rating:t.overall_rating,recommendation:t.recommendation,excerpt:t.advice||"No additional comments provided.",role:t.role||"Anonymous Employee",period:t.period,pros:t.pros,cons:t.cons,helpfulCount:t.helpful_count},t.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500",children:"No reviews match your current filters."}),e.jsx("button",{onClick:()=>C({rating:"",timePeriod:"",recommendation:"",sortBy:"recent"}),className:"mt-2 text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})]}),x.length>0&&x.length<s.review_count&&e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors duration-200",children:"Load More Reviews"})})]}),e.jsx(je,{currentCompany:{id:s.id,name:s.name,rating:s.overall_rating,reviewCount:s.review_count,recommendationRate:s.recommendation_rate,industry:s.industry},competitors:W,industryAverage:Y})]})}),e.jsx(q,{isOpen:N,onClose:()=>p(!1),redirectUrl:"/submit-review"})]})};export{Ce as default};
