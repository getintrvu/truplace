import{j as t}from"./index-erpD7sm0.js";import{r as n}from"./react-vendor-Dn3TfeyG.js";import{M as y,X as v,P as N}from"./icons-BuQqyrot.js";const P=({domains:s,onChange:i,error:x,placeholder:f="Enter email domain"})=>{const[a,o]=n.useState(""),[c,l]=n.useState(!0),b=n.useRef(null),d=/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?\.[a-zA-Z]{2,}$/;n.useEffect(()=>{l(a?d.test(a):!0)},[a]);const u=()=>{const e=a.trim().toLowerCase();if(e){if(!d.test(e)){l(!1);return}if(s.includes(e)){o("");return}i([...s,e]),o(""),l(!0)}},h=e=>{i(s.filter(p=>p!==e))},g=e=>{(e.key==="Enter"||e.key===",")&&(e.preventDefault(),u())},j=e=>{e.preventDefault();const m=e.clipboardData.getData("text").split(/[,\s\n]+/).map(r=>r.trim().toLowerCase()).filter(r=>r&&d.test(r)).filter(r=>!s.includes(r));m.length>0&&i([...s,...m])};return t.jsxs("div",{className:"space-y-3",children:[s.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(e=>t.jsxs("div",{className:"inline-flex items-center space-x-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[t.jsx(y,{className:"w-3 h-3"}),t.jsx("span",{children:e}),t.jsx("button",{type:"button",onClick:()=>h(e),className:"hover:bg-blue-200 rounded-full p-0.5 transition-colors duration-200",children:t.jsx(v,{className:"w-3 h-3"})})]},e))}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{ref:b,type:"text",value:a,onChange:e=>o(e.target.value),onKeyPress:g,onPaste:j,placeholder:f,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 ${x||!c?"border-red-300 bg-red-50":"border-gray-300"}`}),!c&&a&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})})]}),t.jsxs("button",{type:"button",onClick:u,disabled:!a.trim()||!c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center space-x-1",children:[t.jsx(N,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Add"})]})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Enter email domains (e.g., company.com). Press Enter or comma to add multiple domains."})]})};export{P as D};
